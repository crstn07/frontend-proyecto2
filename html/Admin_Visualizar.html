<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Administrador | Visualizar</title>
    <link rel="shortcut icon" href="../images/logo.ico">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <link rel="stylesheet"  href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
</head>
<body onload="VerTodos()">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary animate__animated animate__slideInDown">
        <div class="container-fluid ">
            
            <img src="../images/logo2.png" style = max-width:65px;width:auto;height:auto;margin-right:10px;>            
            
            <a class="navbar-brand" href="#">UHospital - Administrador (Abner Cardona)</a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link" href="Admin.html">Cargar</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="Admin_Visualizar.html">Visualizar</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="Admin_Reportes.html">Reportes</a>
              </li> 
            </ul>
            <a  href="Login.html">
                <button type="button" class="btn btn-danger"> 
                    Cerrar Sesión
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
                        <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
                      </svg>
                </button>
            </a>
          </div>
        </div>
    </nav>
    <div class="container-md " style="position: relative; top: 50px; width: 100%;" > 
      <nav>
        <div class="nav nav-tabs" id="nav-tab" role="tablist">
          <button class="nav-link active " id="nav-pacientes-tab" data-bs-toggle="tab" data-bs-target="#nav-pacientes" type="button" role="tab" aria-controls="nav-pacientes" aria-selected="true">Pacientes</button>
          <button class="nav-link" id="nav-medicos-tab" data-bs-toggle="tab" data-bs-target="#nav-medicos" type="button" role="tab" aria-controls="nav-medicos" aria-selected="false">Médicos</button>
          <button class="nav-link" id="nav-enfermeras-tab" data-bs-toggle="tab" data-bs-target="#nav-enfermeras" type="button" role="tab" aria-controls="nav-enfermeras" aria-selected="false">Enfermeras</button>
          <button class="nav-link" id="nav-medicamentos-tab" data-bs-toggle="tab" data-bs-target="#nav-medicamentos" type="button" role="tab" aria-controls="nav-medicamentos" aria-selected="false">Medicamentos</button>
        </div>
      </nav>
      <div class="tab-content" id="nav-tabContent">
        <div class="modal fade" id="Modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="tituloModal"></h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" id="bodyModal">
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">OK</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal fade" id="ModalModificacion" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="tituloModalModificar"> Modificar Paciente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" id="bodyModalModificar">
                <form id="form" class="row g-3 needs-validation " novalidate style="position: relative; width:90%; left: 10%;"> 
                  <div class="col-md-5">
                    <label for="nombre" class="form-label">Nombre</label>
                    <input type="text" class="form-control" placeholder="Ingrese un nombre" id="nombre" required>
                    <div class="invalid-feedback">
                      Por favor ingrese un nombre.
                    </div>
                  </div>
                  <div class="col-md-5">
                    <label for="apellido" class="form-label">Apellido</label>
                    <input type="text" class="form-control" id="apellido" placeholder="Ingrese un apellido" required>
                    <div class="invalid-feedback">
                      Por favor ingrese un apellido.
                    </div>
                  </div>
                  <div class="col-md-5">
                    <label for="birthday" class="form-label">Fecha de Nacimiento</label>
                    <input type="date" class="form-control" id="fecha" required>
                    <div class="invalid-feedback">
                        Por favor escoja una fecha.
                    </div>
                </div>
                <div class="col-md-5">
                  <label for="sexo" class="form-label">Sexo</label>
                  <select class="form-select" id="sexo" required>
                    <option selected disabled value="">Escoger...</option>
                    <option>M</option>
                    <option>F</option>
                  </select>
                  <div class="invalid-feedback">
                    Por favor seleccione una opción válida.
                  </div>
                </div>
                  <div class="col-md-5">
                    <label for="telefono" class="form-label">Teléfono </label>
                    <input type="number" class="form-control" id="telefono" placeholder="Ingrese un número de teléfono">
                  </div>
                  <div id="div_especialidad" class="col-md-5 invisible" >
                    <label for="Especialidad" class="form-label">Especialidad</label> 
                    <input type="text" class="form-control"  placeholder="Ingrese una especialidad"  id="especialidad" required>
                    <div class="invalid-feedback">
                        Por favor ingrese una especialidad.
                    </div>
                  </div>        
                  <div class="col-md-5">
                    <label for="usuario" class="form-label">Nombre de Usuario</label>
                    <div class="input-group has-validation">
                      <input type="text" class="form-control" placeholder="Ingrese un nombre de usuario" id="usuario" aria-describedby="inputGroupPrepend" required>
                      <div class="invalid-feedback">
                        Por favor ingrese un nombre de usuario.
                      </div>
                    </div>
                  </div>
                  <div class="col-md-5 " >
                      <label for="Contra" class="form-label">Contraseña</label> 
                      <input type="password" class="form-control"  placeholder="Ingrese una contraseña"  id="contra" required>
                      <div class="invalid-feedback">
                          Por favor ingrese una contraseña.
                      </div>
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button id="botonModal"  onclick="ModificarPaciente(this)" type="button" class="btn btn-primary">Modificar</button>
              </div>
            </div>
          </div>
        </div>
        <div class="modal fade" id="ModalModificacionMed" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="tituloModalModicarMed"> Modificar Paciente</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body" id="bodyModalModificarMed">
                <form id="form2" class="row g-3 needs-validation " novalidate style="position: relative; width:90%; left: 10%;"> 
                  <div class="col-md-5">
                    <label for="nombre" class="form-label">Nombre</label>
                    <input type="text" class="form-control" placeholder="Ingrese un nombre" id="nombreMed" required>
                    <div class="invalid-feedback">
                      Por favor ingrese un nombre.
                    </div>
                  </div>
                  <div class="col-md-5">
                    <label for="precio" class="form-label">Precio</label>
                    <input type="number" step="any" class="form-control" id="precio" placeholder="Ingrese un precio" required>
                    <div class="invalid-feedback">
                      Por favor ingrese un Precio.
                    </div>
                  </div>
                  <div class="col-md-5">
                    <label for="descripcion" class="form-label">Descripción</label>
                    <input type="text" class="form-control" id="descripcion" placeholder="Ingrese una descripción" required>
                    <div class="invalid-feedback">
                        Por Ingrese una Descripción.
                    </div>
                  </div>
                  <div class="col-md-5">
                    <label for="cantidad" class="form-label">Cantidad </label>
                    <input type="number" class="form-control" id="cantidad" placeholder="Ingrese una cantidad" required>
                    <div class="invalid-feedback">
                      Por Ingrese una cantidad.
                    </div>
                  </div>                          
               </form>
              </div>
              <div class="modal-footer">
                <button id="botonModalMed"  onclick="ModificarMedicamento(this)" type="button" class="btn btn-primary">Modificar</button>
              </div>
            </div>
          </div>
        </div>
        <div class="tab-pane fade show active " id="nav-pacientes" role="tabpanel" aria-labelledby="nav-pacientes-tab">
            <div class="input-group" style="position: relative; top:30px; left: 2%; width: 96%;" >
              <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                <thead>
                  <tr class="table-dark table-bordered ">
                    <th scope="col">No</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Apellido</th>
                    <th scope="col">Usuario</th>
                    <th scope="col">Opciones</th>
                  </tr>
                </thead>
                <tbody id="datos_Pacientes">
                </tbody>
              </table>
              <button style="width: 26%; left: 37%; margin-bottom: 20px;" onclick="ExportarPacientes()" type="button" class="btn btn-outline-primary">Generar Reporte en PDF</button>
            </div>
        </div>   
        <div class="tab-pane fade" id="nav-medicos" role="tabpanel" aria-labelledby="nav-medicos-tab">
            <div class="input-group" style="position: relative; top:30px; left:2%; width:96%;" >
              <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                <thead>
                  <tr class="table-dark table-bordered ">
                    <th scope="col">No</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Apellido</th>
                    <th scope="col">Usuario</th>
                    <th scope="col">Especialidad </th>
                    <th scope="col">Opciones</th>
                  </tr>
                </thead>
                <tbody id="datos_Doctores">
                </tbody>
              </table>
              <button style="width: 26%; left: 37%; margin-bottom: 20px;" onclick="ExportarMedicos()" type="button" class="btn btn-outline-primary">Generar Reporte en PDF</button>
            </div> 
        </div>
        <div class="tab-pane fade" id="nav-enfermeras" role="tabpanel" aria-labelledby="nav-enfermeras-tab">
            <div class="input-group" style="position: relative; top:30px; left:2%; width:96%;" >              
              <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                <thead>
                  <tr class="table-dark table-bordered ">
                    <th scope="col">No</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Apellido</th>
                    <th scope="col">Usuario</th>
                    <th scope="col">Opciones</th>
                  </tr>
                </thead>
                <tbody id="datos_Enfermeras">
                </tbody>
              </table>      
              <button style="width: 26%; left: 37%; margin-bottom: 20px;" onclick="ExportarEnfermeras()" type="button" class="btn btn-outline-primary">Generar Reporte en PDF</button>        
            </div>
        </div>
        <div class="tab-pane fade" id="nav-medicamentos" role="tabpanel" aria-labelledby="nav-medicamentos-tab">
            <div class="input-group" style="position: relative; top:30px; left:2%; width:96%;" >
              <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                <thead>
                  <tr class="table-dark table-bordered ">
                    <th scope="col">Id</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Precio</th>
                    <th scope="col">Descripción</th>
                    <th scope="col">Cantidad</th>
                    <th scope="col">Opciones</th>
                  </tr>
                </thead>
                <tbody id="datos_Medicamento">
                </tbody>
              </table>                    
              <button style="width: 26%; left: 37%; margin-bottom: 20px;" onclick="ExportarMedicamentos()" type="button" class="btn btn-outline-primary">Generar Reporte en PDF</button> 
            </div>
        </div>
      </div>
    </div>

    <script>
      function VerTodos(){
        VerPacientes()
        VerEnfermeras()
        VerDoctores()
        VerMedicamentos()
      }
      function VerPacientes(){
            var table = document.querySelector('#datos_Pacientes')
            var fila = ''
            var contador = 0
            fetch('http://backend-proyecto2-202010893.herokuapp.com/VerPacientes', {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                response.forEach(element => {
                    console.log(element)
                    contador += 1
                    fila +=`<tr>
                        <td> ${contador} </td>
                        <td> ${element.Nombre} </td>
                        <td> ${element.Apellido} </td>
                        <td> ${element.Usuario} </td>
                        <td> <button value=${element.Usuario} onclick="verInfoPaciente(this)" type="button" class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#Modal"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                              <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                              <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                            </svg> Ver
                          </button>
                          <button value=${element.Usuario} onclick="MostrarDatosModificarPaciente(this)" type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#ModalModificacion"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                              <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                              <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                            </svg> Editar
                          </button>
                          <button value=${element.Usuario} onclick="EliminarPaciente(this)" type="button" class="btn btn-danger"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                              <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                              <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                            </svg> Eliminar
                          </button> </td>
                        </tr>`         
                        
                });
                
                table.innerHTML = fila
            })
        }

        function ExportarPacientes(){
            var fila = ''
            var contador = 0
            fetch('http://backend-proyecto2-202010893.herokuapp.com/VerPacientes', {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                response.forEach(element => {
                    console.log(element)
                    contador += 1
                    fila +=`
                          <tr>
                            <td> ${contador} </td>
                            <td> ${element.Nombre} </td>
                            <td> ${element.Apellido} </td>
                            <td> ${element.Fecha} </td>
                            <td> ${element.Sexo} </td>
                            <td> ${element.Usuario} </td>
                            <td> ${element.Contraseña} </td>
                            <td> ${element.Teléfono} </td>
                          </tr>`         
                        
                });
                var datos = `
                  <!DOCTYPE html>
                  <html lang="es">
                  <head>
                      <meta charset="UTF-8">
                      <meta http-equiv="X-UA-Compatible" content="IE=edge">
                      <title> Listado de Pacientes</title>
                      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
                      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
                  </head>
                  <body>
                    <h1 class="display-2"> <center> Listado de Pacientes </center></h1><br>
                    <div style:"position: relative; width: 86%; left: 7%; top: 20px;">
                    <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                      <thead>
                        <tr >
                          <th scope="col">No</th>
                          <th scope="col">Nombre</th>
                          <th scope="col">Apellido</th>
                          <th scope="col">Fecha de Nacimiento</th>
                          <th scope="col">Sexo</th>
                          <th scope="col">Usuario</th>
                          <th scope="col">Contraseña</th>
                          <th scope="col">Teléfono</th>
                        </tr>
                      </thead>
                      <tbody>
                        ${fila}
                      </tbody>
                    </table>
                    </div>
                  </body>
                  </html>`
                var win = window.open('', '', 'height=700,width=700');
                win.document.write(datos);
                win.document.close();
                setTimeout(() => { win.print(); }, 500);
            })
        }
        
        function verInfoPaciente(button){         
            fetch(`http://backend-proyecto2-202010893.herokuapp.com/Paciente/${button.value}`, {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response)
                var div_body = document.querySelector('#bodyModal')
                var titulo = document.querySelector('#tituloModal')
                contenido = `
                <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                  <tr class="table-dark table-bordered ">
                    <th scope="col" colspan="2"> <center>Datos del Paciente</center></th>
                  </tr>
                </thead>                  
                  <tbody>
                    <tr>
                      <th> Nombre </th>
                      <td> ${response.Nombre} </td>
                    </tr>
                    <tr>
                      <th> Apellido </th>
                      <td> ${response.Apellido} </td>
                    </tr>
                    <tr>
                      <th> Fecha de Nacimiento </th>
                      <td> ${response.Fecha} </td>
                    </tr>
                    <tr>
                      <th> Sexo </th>
                      <td> ${response.Sexo} </td>
                    </tr>
                    <tr>
                      <th> Usuario </th>
                      <td> ${response.Usuario} </td>
                    </tr>
                    <tr>
                      <th> Contraseña </th>
                      <td> ${response.Contraseña} </td>
                    </tr>
                    <tr>
                      <th> Teléfono </th>
                      <td> ${response.Teléfono} </td>
                    </tr>
                  </tbody>
                </table>`
                div_body.innerHTML = contenido
                titulo.innerHTML = "Información del Paciente"
            })       
        }

        function EliminarPaciente(button){
            fetch(`http://backend-proyecto2-202010893.herokuapp.com/Paciente/${button.value}`, {
            method: 'DELETE',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrio un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                alert(response.Mensaje)
                VerPacientes()
            })
        }

        function MostrarDatosModificarPaciente(button){
          var div = document.querySelector('#div_especialidad')
          div.classList.add('invisible')
          fetch(`http://backend-proyecto2-202010893.herokuapp.com/Paciente/${button.value}`, {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
              console.log(response)
              document.querySelector('#nombre').value = response.Nombre
              document.querySelector('#apellido').value = response.Apellido
              document.querySelector('#fecha').value = response.Fecha
              document.querySelector('#sexo').value = response.Sexo
              document.querySelector('#usuario').value = response.Usuario
              document.querySelector('#contra').value = response.Contraseña
              document.querySelector('#telefono').value = response.Teléfono
              var boton = document.querySelector('#botonModal')
              boton.setAttribute("value",`${response.Usuario}`)
              boton.setAttribute("onclick","ModificarPaciente(this)")
          })
        }

        function ModificarPaciente(button){
          var nombre = document.querySelector('#nombre').value
          var apellido = document.querySelector('#apellido').value
          var usuario = document.querySelector('#usuario').value
          var contraseña = document.querySelector('#contra').value
          var telefono = document.querySelector('#telefono').value
          var fechaNacimiento = document.querySelector('#fecha').value
          var sexo = document.querySelector('#sexo').value
          if ((nombre && apellido && usuario && contraseña && fechaNacimiento && sexo)!=""){
              var nuevo_paciente = {
                'Nombre': nombre,
                'Apellido': apellido,
                'Fecha': fechaNacimiento,
                'Sexo': sexo,
                'Teléfono': telefono,
                'Usuario': usuario,
                'Contraseña': contraseña,             
            } 
            console.log(nuevo_paciente)

            fetch(`http://backend-proyecto2-202010893.herokuapp.com/Paciente/${button.value}`, {
            method: 'PUT',
            body: JSON.stringify(nuevo_paciente),
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrio un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                alert(response.Mensaje)
                if(response.Mensaje == "Se actualizó correctamente"){
                    VerPacientes()
                  }
            })
          }else{
                var form = document.querySelector('#form')
                form.classList.add('was-validated')               
              }
        }

        function VerEnfermeras(){
            var table = document.querySelector('#datos_Enfermeras')
            var fila = ''
            var contador = 0
            fetch('http://backend-proyecto2-202010893.herokuapp.com/VerEnfermeras', {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                response.forEach(element => {
                    console.log(element)
                    contador += 1
                    fila +=`<tr>
                        <td> ${contador} </td>
                        <td> ${element.Nombre} </td>
                        <td> ${element.Apellido} </td>
                        <td> ${element.Usuario} </td>
                        <td> <button value=${element.Usuario} onclick="verInfoEnfermera(this)" type="button" class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#Modal"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                              <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                              <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                            </svg> Ver
                          </button>
                          <button value=${element.Usuario} onclick="MostrarDatosModificarEnfermera(this)" type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#ModalModificacion"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                              <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                              <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                            </svg> Editar
                          </button>
                          <button value=${element.Usuario} onclick="EliminarEnfermera(this)" type="button" class="btn btn-danger"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                              <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                              <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                            </svg> Eliminar
                          </button> </td>
                        </tr>`         
                        
                });
                table.innerHTML = fila
            })
        }

        function ExportarEnfermeras(){
            var fila = ''
            var contador = 0
            fetch('http://backend-proyecto2-202010893.herokuapp.com/VerEnfermeras', {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                response.forEach(element => {
                    console.log(element)
                    contador += 1
                    fila +=`
                          <tr>
                            <td> ${contador} </td>
                            <td> ${element.Nombre} </td>
                            <td> ${element.Apellido} </td>
                            <td> ${element.Fecha} </td>
                            <td> ${element.Sexo} </td>
                            <td> ${element.Usuario} </td>
                            <td> ${element.Contraseña} </td>
                            <td> ${element.Teléfono} </td>
                          </tr>`         
                        
                });
                var datos = `
                  <!DOCTYPE html>
                  <html lang="es">
                  <head>
                      <meta charset="UTF-8">
                      <meta http-equiv="X-UA-Compatible" content="IE=edge">
                      <title> Listado de Enfermeras</title>
                      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
                      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
                  </head>
                  <body>
                    <h1 class="display-2"> <center> Listado de Enfermeras </center></h1><br>
                    <div style:"position: relative; width: 86%; left: 7%; top: 20px;">
                    <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                      <thead>
                        <tr >
                          <th scope="col">No</th>
                          <th scope="col">Nombre</th>
                          <th scope="col">Apellido</th>
                          <th scope="col">Fecha de Nacimiento</th>
                          <th scope="col">Sexo</th>
                          <th scope="col">Usuario</th>
                          <th scope="col">Contraseña</th>
                          <th scope="col">Teléfono</th>
                        </tr>
                      </thead>
                      <tbody>
                        ${fila}
                      </tbody>
                    </table>
                    </div>
                  </body>
                  </html>`
                var win = window.open('', '', 'height=700,width=700');
                win.document.write(datos);
                win.document.close();
                setTimeout(() => { win.print(); }, 500);
            })
        }

        function verInfoEnfermera(button){         
            fetch(`http://backend-proyecto2-202010893.herokuapp.com/Enfermera/${button.value}`, {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response)
                var div_body = document.querySelector('#bodyModal')
                var titulo = document.querySelector('#tituloModal')
                contenido = `
                <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                  <tr class="table-dark table-bordered ">
                    <th scope="col" colspan="2"> <center>Datos de la Enfermera</center></th>
                  </tr>
                </thead>                  
                  <tbody>
                    <tr>
                      <th> Nombre </th>
                      <td> ${response.Nombre} </td>
                    </tr>
                    <tr>
                      <th> Apellido </th>
                      <td> ${response.Apellido} </td>
                    </tr>
                    <tr>
                      <th> Fecha de Nacimiento </th>
                      <td> ${response.Fecha} </td>
                    </tr>
                    <tr>
                      <th> Sexo </th>
                      <td> ${response.Sexo} </td>
                    </tr>
                    <tr>
                      <th> Usuario </th>
                      <td> ${response.Usuario} </td>
                    </tr>
                    <tr>
                      <th> Contraseña </th>
                      <td> ${response.Contraseña} </td>
                    </tr>
                    <tr>
                      <th> Teléfono </th>
                      <td> ${response.Teléfono} </td>
                    </tr>
                  </tbody>
                </table>`
                div_body.innerHTML = contenido
                titulo.innerHTML = "Información de la Enfermera"
            })       
        }

        function MostrarDatosModificarEnfermera(button){
          var div = document.querySelector('#div_especialidad')
          div.classList.add('invisible')
          var titulo = document.querySelector('#tituloModalModificar')
          titulo.innerHTML = "Modificar Enfermera"
         fetch(`http://backend-proyecto2-202010893.herokuapp.com/Enfermera/${button.value}`, {
           method: 'GET',
           headers:{
               'Content-Type': 'application/json',
               'Access-Control-Allow-Origin': '*',}})
           .then(res => res.json())
           .catch(err => {
               console.error('Error:', err)
               alert("Ocurrió un error, ver la consola")
           })
           .then(response =>{
             console.log(response)
             document.querySelector('#nombre').value = response.Nombre
             document.querySelector('#apellido').value = response.Apellido
             document.querySelector('#fecha').value = response.Fecha
             document.querySelector('#sexo').value = response.Sexo
             document.querySelector('#usuario').value = response.Usuario
             document.querySelector('#contra').value = response.Contraseña
             document.querySelector('#telefono').value = response.Teléfono
             var boton = document.querySelector('#botonModal')
             boton.setAttribute("value",`${response.Usuario}`)
             boton.setAttribute("onclick","ModificarEnfermera(this)")
            
         })
       }
       function ModificarEnfermera(button){
         var nombre = document.querySelector('#nombre').value
         var apellido = document.querySelector('#apellido').value
         var usuario = document.querySelector('#usuario').value
         var contraseña = document.querySelector('#contra').value
         var telefono = document.querySelector('#telefono').value
         var fechaNacimiento = document.querySelector('#fecha').value
         var sexo = document.querySelector('#sexo').value
         if ((nombre && apellido && usuario && contraseña && fechaNacimiento && sexo)!=""){
             var nueva_enfermera= {
               'Nombre': nombre,
               'Apellido': apellido,
               'Fecha': fechaNacimiento,
               'Sexo': sexo,
               'Teléfono': telefono,
               'Usuario': usuario,
               'Contraseña': contraseña,             
           } 
           console.log(nueva_enfermera)

           fetch(`http://backend-proyecto2-202010893.herokuapp.com/Enfermera/${button.value}`, {
           method: 'PUT',
           body: JSON.stringify(nueva_enfermera),
           headers:{
               'Content-Type': 'application/json',
               'Access-Control-Allow-Origin': '*',}})
           .then(res => res.json())
           .catch(err => {
               console.error('Error:', err)
               alert("Ocurrio un error, ver la consola")
           })
           .then(response =>{
               console.log(response);
               alert(response.Mensaje)
               if(response.Mensaje == "Se actualizó correctamente"){
                   VerEnfermeras()
                   //var myModal = document.querySelector('#ModalModificacion')
                   //myModal.hide()
                 }
           })
         }else{
               var form = document.querySelector('#form')
               form.classList.add('was-validated')               
             }
       }

       function EliminarEnfermera(button){
            fetch(`http://backend-proyecto2-202010893.herokuapp.com/Enfermera/${button.value}`, {
            method: 'DELETE',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrio un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                alert(response.Mensaje)
                VerEnfermeras()
            })
        }

        function VerDoctores(){
            var table = document.querySelector('#datos_Doctores')
            var fila = ''
            var contador = 0
            fetch('http://backend-proyecto2-202010893.herokuapp.com/VerMedicos', {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                response.forEach(element => {
                    console.log(element)
                    contador += 1
                    fila +=`<tr>
                        <td> ${contador} </td>
                        <td> ${element.Nombre} </td>
                        <td> ${element.Apellido} </td>
                        <td> ${element.Usuario} </td>
                        <td> ${element.Especialidad} </td>
                        <td> <button value=${element.Usuario} onclick="verInfoMedico(this)" type="button" class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#Modal"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                              <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                              <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                            </svg> Ver
                          </button>
                          <button value=${element.Usuario} onclick="MostrarDatosModificarMedico(this)" type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#ModalModificacion"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                              <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                              <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                            </svg> Editar
                          </button>
                          <button value=${element.Usuario} onclick="EliminarMedico(this)" type="button" class="btn btn-danger"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                              <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                              <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                            </svg> Eliminar
                          </button> </td>
                        </tr>`         
                        
                });
                table.innerHTML = fila
            })
        }

        function verInfoMedico(button){         
            fetch(`http://backend-proyecto2-202010893.herokuapp.com/Medico/${button.value}`, {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response)
                var div_body = document.querySelector('#bodyModal')
                var titulo = document.querySelector('#tituloModal')
                contenido = `
                <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                  <tr class="table-dark table-bordered ">
                    <th scope="col" colspan="2"> <center>Datos de la Enfermera</center></th>
                  </tr>
                </thead>                  
                  <tbody>
                    <tr>
                      <th> Nombre </th>
                      <td> ${response.Nombre} </td>
                    </tr>
                    <tr>
                      <th> Apellido </th>
                      <td> ${response.Apellido} </td>
                    </tr>
                    <tr>
                      <th> Fecha de Nacimiento </th>
                      <td> ${response.Fecha} </td>
                    </tr>
                    <tr>
                      <th> Sexo </th>
                      <td> ${response.Sexo} </td>
                    </tr>
                    <tr>
                      <th> Usuario </th>
                      <td> ${response.Usuario} </td>
                    </tr>
                    <tr>
                      <th> Contraseña </th>
                      <td> ${response.Contraseña} </td>
                    </tr>
                    <tr>
                      <th> Teléfono </th>
                      <td> ${response.Teléfono} </td>
                    </tr>
                    <tr>
                      <th> Especialidad </th>
                      <td> ${response.Especialidad} </td>
                    </tr>
                  </tbody>
                </table>`
                div_body.innerHTML = contenido
                titulo.innerHTML = "Información del Doctor"
            })       
        }

        function ExportarMedicos(){
            var fila = ''
            var contador = 0
            fetch('http://backend-proyecto2-202010893.herokuapp.com/VerMedicos', {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                response.forEach(element => {
                    console.log(element)
                    contador += 1
                    fila +=`
                          <tr>
                            <td> ${contador} </td>
                            <td> ${element.Nombre} </td>
                            <td> ${element.Apellido} </td>
                            <td> ${element.Fecha} </td>
                            <td> ${element.Sexo} </td>
                            <td> ${element.Especialidad} </td>
                            <td> ${element.Usuario} </td>
                            <td> ${element.Contraseña} </td>
                            <td> ${element.Teléfono} </td>
                          </tr>`         
                        
                });
                var datos = `
                  <!DOCTYPE html>
                  <html lang="es">
                  <head>
                      <meta charset="UTF-8">
                      <meta http-equiv="X-UA-Compatible" content="IE=edge">
                      <title> Listado de Médicos </title>
                      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
                      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
                  </head>
                  <body>
                    <h1 class="display-2"> <center> Listado de Doctores </center></h1><br>
                    <div style:"position: relative; width: 86%; left: 7%; top: 20px;">
                    <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                      <thead>
                        <tr >
                          <th scope="col">No</th>
                          <th scope="col">Nombre</th>
                          <th scope="col">Apellido</th>
                          <th scope="col">Fecha de Nacimiento</th>
                          <th scope="col">Sexo</th>
                          <th scope="col">Especialidad</th>
                          <th scope="col">Usuario</th>
                          <th scope="col">Contraseña</th>
                          <th scope="col">Teléfono</th>
                        </tr>
                      </thead>
                      <tbody>
                        ${fila}
                      </tbody>
                    </table>
                    </div>
                  </body>
                  </html>`
                var win = window.open('', '', 'height=700,width=700');
                win.document.write(datos);
                win.document.close();
                setTimeout(() => { win.print(); }, 500);
            })
        }

        function MostrarDatosModificarMedico(button){
          var div = document.querySelector('#div_especialidad')
          div.classList.remove('invisible')
          var titulo = document.querySelector('#tituloModalModificar')
          titulo.innerHTML = "Modificar Doctor"
         fetch(`http://backend-proyecto2-202010893.herokuapp.com/Medico/${button.value}`, {
           method: 'GET',
           headers:{
               'Content-Type': 'application/json',
               'Access-Control-Allow-Origin': '*',}})
           .then(res => res.json())
           .catch(err => {
               console.error('Error:', err)
               alert("Ocurrió un error, ver la consola")
           })
           .then(response =>{
             console.log(response)
             document.querySelector('#nombre').value = response.Nombre
             document.querySelector('#apellido').value = response.Apellido
             document.querySelector('#fecha').value = response.Fecha
             document.querySelector('#sexo').value = response.Sexo
             document.querySelector('#usuario').value = response.Usuario
             document.querySelector('#contra').value = response.Contraseña
             document.querySelector('#telefono').value = response.Teléfono
             document.querySelector('#especialidad').value = response.Especialidad
             var boton = document.querySelector('#botonModal')
             boton.setAttribute("value",`${response.Usuario}`)
             boton.setAttribute("onclick","ModificarMedico(this)")
         })
       }
       function ModificarMedico(button){
         var nombre = document.querySelector('#nombre').value
         var apellido = document.querySelector('#apellido').value
         var usuario = document.querySelector('#usuario').value
         var contraseña = document.querySelector('#contra').value
         var telefono = document.querySelector('#telefono').value
         var fechaNacimiento = document.querySelector('#fecha').value
         var sexo = document.querySelector('#sexo').value
         var especialidad = document.querySelector('#especialidad').value
         if ((nombre && apellido && usuario && contraseña && fechaNacimiento && sexo && especialidad)!=""){
             var nuevo_doctor = {
               'Nombre': nombre,
               'Apellido': apellido,
               'Fecha': fechaNacimiento,
               'Sexo': sexo,
               'Teléfono': telefono,
               'Usuario': usuario,
               'Contraseña': contraseña,   
               'Especialidad':especialidad          
           } 
           console.log(nuevo_doctor)

           fetch(`http://backend-proyecto2-202010893.herokuapp.com/Medico/${button.value}`, {
           method: 'PUT',
           body: JSON.stringify(nuevo_doctor),
           headers:{
               'Content-Type': 'application/json',
               'Access-Control-Allow-Origin': '*',}})
           .then(res => res.json())
           .catch(err => {
               console.error('Error:', err)
               alert("Ocurrio un error, ver la consola")
           })
           .then(response =>{
               console.log(response);
               alert(response.Mensaje)
               if(response.Mensaje == "Se actualizó correctamente"){
                   VerDoctores()
                 }
               
           })
         }else{
               var form = document.querySelector('#form')
               form.classList.add('was-validated')               
             }
       }

       function EliminarMedico(button){
            fetch(`http://backend-proyecto2-202010893.herokuapp.com/Medico/${button.value}`, {
            method: 'DELETE',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrio un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                alert(response.Mensaje)
                VerDoctores()
            })
        }

        function VerMedicamentos(){
            var table = document.querySelector('#datos_Medicamento')
            var fila = ''
            fetch('http://backend-proyecto2-202010893.herokuapp.com/VerMedicamentos', {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                response.forEach(element => {
                    console.log(element)
                    fila +=`<tr>
                        <td> ${element.Id} </td>
                        <td> ${element.Nombre} </td>
                        <td> ${element.Precio} </td>
                        <td> ${element.Descripción} </td>
                        <td> ${element.Cantidad} </td>
                        <td> <button value=${element.Id} onclick="verInfoMedicamento(this)" type="button" class="btn btn-primary"  data-bs-toggle="modal" data-bs-target="#Modal"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                              <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                              <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                            </svg> Ver
                          </button>
                          <button value=${element.Id} onclick="MostrarDatosModificarMedicamento(this)" type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#ModalModificacionMed"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                              <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                              <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
                            </svg> Editar
                          </button>
                          <button value=${element.Id} onclick="EliminarMedicamento(this)" type="button" class="btn btn-danger"> 
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                              <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                              <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                            </svg> Eliminar
                          </button> </td>
                        </tr>`         
                });
                table.innerHTML = fila
            })
        }

        function verInfoMedicamento(button){         
            fetch(`http://backend-proyecto2-202010893.herokuapp.com/Medicamento/${button.value}`, {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response)
                var div_body = document.querySelector('#bodyModal')
                var titulo = document.querySelector('#tituloModal')
                contenido = `
                <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                  <tr class="table-dark table-bordered ">
                    <th scope="col" colspan="2"> <center>Datos del Medicamento</center></th>
                  </tr>
                </thead>                  
                  <tbody>
                    <tr>
                      <th> Id </th>
                      <td> ${response.Id} </td>
                    </tr>
                    <tr>
                      <th> Nombre </th>
                      <td> ${response.Nombre} </td>
                    </tr>
                    <tr>
                      <th> Precio </th>
                      <td> ${response.Precio} </td>
                    </tr>
                    <tr>
                      <th> Descripción </th>
                      <td> ${response.Descripción} </td>
                    </tr>
                    <tr>
                      <th> Cantidad</th>
                      <td> ${response.Cantidad} </td>
                    </tr>
                  </tbody>
                </table>`
                div_body.innerHTML = contenido
                titulo.innerHTML = "Información del medicamento"
            })       
        }

        function ExportarMedicamentos(){
            var fila = ''
            var contador = 0
            fetch('http://backend-proyecto2-202010893.herokuapp.com/VerMedicamentos', {
            method: 'GET',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrió un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                response.forEach(element => {
                    console.log(element)
                    contador += 1
                    fila +=`
                          <tr>
                            <td> ${element.Id} </td>
                            <td> ${element.Nombre} </td>
                            <td> ${element.Precio} </td>
                            <td> ${element.Descripción} </td>
                            <td> ${element.Cantidad} </td>
                          </tr>`         
                });
                var datos = `
                  <!DOCTYPE html>
                  <html lang="es">
                  <head>
                      <meta charset="UTF-8">
                      <meta http-equiv="X-UA-Compatible" content="IE=edge">
                      <title> Listado de Medicamentos </title>
                      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
                      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
                  </head>
                  <body>
                    <h1 class="display-2"> <center> Listado de Medicamentos </center></h1><br>
                    <div style="position: relative; width: 86%; left: 7%; top: 20px;">
                    <table class="table table-ligth table-striped table-hover table-bordered border-dark">
                      <thead>
                        <tr >
                          <th scope="col">Id</th>
                          <th scope="col">Nombre</th>
                          <th scope="col">Precio</th>
                          <th scope="col">Descripción</th>
                          <th scope="col">Cantidad</th>
                        </tr>
                      </thead>
                      <tbody>
                        ${fila}
                      </tbody>
                    </table>
                    </div>
                  </body>
                  </html>`
                var win = window.open('', '', 'height=700,width=700');
                win.document.write(datos);
                win.document.close();
                setTimeout(() => { win.print(); }, 500);
            })
        }

        function MostrarDatosModificarMedicamento(button){
         fetch(`http://backend-proyecto2-202010893.herokuapp.com/Medicamento/${button.value}`, {
           method: 'GET',
           headers:{
               'Content-Type': 'application/json',
               'Access-Control-Allow-Origin': '*',}})
           .then(res => res.json())
           .catch(err => {
               console.error('Error:', err)
               alert("Ocurrió un error, ver la consola")
           })
           .then(response =>{
             console.log(response)
             document.querySelector('#nombreMed').value = response.Nombre
             document.querySelector('#precio').value = response.Precio
             document.querySelector('#cantidad').value = response.Cantidad
             document.querySelector('#descripcion').value = response.Descripción
             var boton = document.querySelector('#botonModalMed')
             boton.setAttribute("value",`${response.Id}`)
         })
       }
       function ModificarMedicamento(button){
          var nombre = document.querySelector('#nombreMed').value 
          var precio = document.querySelector('#precio').value 
          var cantidad = document.querySelector('#cantidad').value 
          var descripcion = document.querySelector('#descripcion').value 
         if ((nombre && precio && cantidad && descripcion)!=""){
             var nuevo_Med = {
               'Id': button.value,
               'Nombre': nombre,
               'Precio': precio,
               'Cantidad': cantidad,
               'Descripción': descripcion         
           } 
           console.log(nuevo_Med)

           fetch(`http://backend-proyecto2-202010893.herokuapp.com/Medicamento/${button.value}`, {
           method: 'PUT',
           body: JSON.stringify(nuevo_Med),
           headers:{
               'Content-Type': 'application/json',
               'Access-Control-Allow-Origin': '*',}})
           .then(res => res.json())
           .catch(err => {
               console.error('Error:', err)
               alert("Ocurrio un error, ver la consola")
           })
           .then(response =>{
               console.log(response);
               alert(response.Mensaje)
               if(response.Mensaje == "Se actualizó correctamente"){
                   VerMedicamentos()
                 }    
           })
         }else{
               var form = document.querySelector('#form2')
               form.classList.add('was-validated')               
             }
       }

       function EliminarMedicamento(button){
            fetch(`http://backend-proyecto2-202010893.herokuapp.com/Medicamento/${button.value}`, {
            method: 'DELETE',
            headers:{
                'Content-Type': 'application/json',
                'Access-Control-Allow-Origin': '*',}})
            .then(res => res.json())
            .catch(err => {
                console.error('Error:', err)
                alert("Ocurrio un error, ver la consola")
            })
            .then(response =>{
                console.log(response);
                alert(response.Mensaje)
                VerMedicamentos()
            })
        }
    </script>
</body>
</html>